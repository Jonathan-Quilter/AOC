
function Advent01 {
    param(
        [parameter(ValueFromPipeline=$true)]
    $In
    )
    process{
        $Output = [math]::Floor(1 * $In / 3) -2
        return($Output)
    }
}
$Input | %{Advent01}

81018,131506,113595,116435,112262,105203,124243,50460,128837,84880,55051,144516,121893,68782,60052,78252,72727,88175,131387,128295,62168,93923,61695,
120376,76679,130758,90425,133389,124749,84461,96642,105472,90380,67201,51733,120042,77060,134224,72075,118320,90683,64965,57748,80922,86415,59351,82429,95558,58304,
87743,120890,120633,85175,134512,93297,119595,98336,111126,144630,71403,100214,106687,107887,115389,115226,140780,61773,110560,
79832,85269,147795,139965,95501,104997,64204,69737,51767,110469,81207,142959,134885,123246,94901,103215,137028,83341,148460,67966,70316,110290,135245,113326,126060,100250,67475,59091,141978,61434,148481,114584 | Advent01 | measure -sum


[math]::floor(114584 / 3)-2

###################################### Advent02
$program = 1,12,2,3,1,1,2,3,1,3,4,3,1,5,0,3,2,1,10,19,1,6,19,23,1,10,23,27,2,27,13,31,1,31,6,35,2,6,35,39,1,39,5,43,1,6,43,47,2,6,47,51,1,51,5,55,2,55,9,59,1,6,59,63,1,9,63,67,1,67,10,71,2,9,71,75,1,6,75,79,1,5,79,83,2,83,10,87,1,87,5,91,1,91,9,95,1,6,95,99,2,99,10,103,1,103,5,107,2,107,6,111,1,111,5,115,1,9,115,119,2,119,10,123,1,6,123,127,2,13,127,131,1,131,6,135,1,135,10,139,1,13,139,143,1,143,13,147,1,5,147,151,1,151,2,155,1,155,5,0,99,2,0,14,0
#$program = 1,1,1,4,99,5,6,0,99
[int]$set = $pointer = 0
foreach($Code in $program){
    "Processing set $set"
switch($program[$Pointer]){
    1{
    Write-Verbose "1 - Pointer is $Pointer"
        $result = $program[$program[($Pointer+1)]] + $program[$program[($Pointer+2)]]

    }
    2{
        Write-Verbose "2 - Pointer is $Pointer"
        $result =  $program[$program[($Pointer+1)]] * $program[$program[($Pointer+2)]]
    }
    default {
        "Something broke in switch. Received value $($program[$Pointer]); for set $set; Pointer is $Pointer"
    }
}
$program[$program[$Pointer+3]] = $result
$pointer +=4;$set ++
};
$program[0]
$ErrorActionPreference = 'stop'
$VerbosePreference = 'continue'



